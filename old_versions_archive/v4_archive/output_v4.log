/home/tapsifoodseo/product_category/category_classifier_llm4.py:55: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
2025-12-23 11:29:14 [INFO] 
============================================================
2025-12-23 11:29:14 [INFO] Starting processing: 515,726 items in 103,146 batches
2025-12-23 11:29:14 [INFO] Workers: 2 | Batch size: 5
2025-12-23 11:29:14 [INFO] ============================================================

2025-12-23 11:29:14 [INFO] Processing batch: 5 items, IDs: ['12,257', '12,259', '12,260']...
2025-12-23 11:29:14 [INFO] API call attempt 1/6 for batch ['12,257', '12,259', '12,260']...
2025-12-23 11:29:14 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:29:14 [INFO] Processing batch: 5 items, IDs: ['12,263', '12,264', '12,265']...
2025-12-23 11:29:14 [INFO] API call attempt 1/6 for batch ['12,263', '12,264', '12,265']...
2025-12-23 11:29:24 [INFO] API call successful! Processing response...
2025-12-23 11:29:24 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:29:24 [INFO] ‚úÖ Batch completed successfully: 5 items processed
2025-12-23 11:29:24 [INFO] Processing batch: 5 items, IDs: ['12,268', '12,461', '12,462']...
2025-12-23 11:29:24 [INFO] API call attempt 1/6 for batch ['12,268', '12,461', '12,462']...
2025-12-23 11:29:24 [INFO] üìä Progress: 1/103146 batches (0.0%)
2025-12-23 11:29:32 [INFO] API call successful! Processing response...
2025-12-23 11:29:32 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:29:32 [INFO] ‚úÖ Batch completed successfully: 5 items processed
2025-12-23 11:29:32 [INFO] Processing batch: 5 items, IDs: ['12,466', '12,467', '12,468']...
2025-12-23 11:29:32 [INFO] API call attempt 1/6 for batch ['12,466', '12,467', '12,468']...
2025-12-23 11:29:32 [INFO] üìä Progress: 2/103146 batches (0.0%)
2025-12-23 11:29:46 [INFO] API call successful! Processing response...
2025-12-23 11:29:46 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:29:46 [INFO] ‚úÖ Batch completed successfully: 5 items processed
2025-12-23 11:29:46 [INFO] Processing batch: 5 items, IDs: ['12,472', '12,474', '12,475']...
2025-12-23 11:29:46 [INFO] API call attempt 1/6 for batch ['12,472', '12,474', '12,475']...
2025-12-23 11:29:46 [INFO] üìä Progress: 3/103146 batches (0.0%)
2025-12-23 11:30:45 [ERROR] ‚ùå API call failed: 504 Deadline expired before operation could complete.
2025-12-23 11:30:45 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:30:45 [WARNING] ‚ö†Ô∏è  [Retry] Transient error (attempt 1/6), sleeping 2.2s: 504 Deadline expired before operation could complete.
2025-12-23 11:30:47 [INFO] API call attempt 2/6 for batch ['12,466', '12,467', '12,468']...
2025-12-23 11:30:55 [INFO] API call successful! Processing response...
2025-12-23 11:30:55 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:30:55 [INFO] ‚úÖ Batch completed successfully: 5 items processed
2025-12-23 11:30:55 [INFO] Processing batch: 5 items, IDs: ['12,479', '12,480', '12,482']...
2025-12-23 11:30:55 [INFO] API call attempt 1/6 for batch ['12,479', '12,480', '12,482']...
2025-12-23 11:30:55 [INFO] üìä Progress: 4/103146 batches (0.0%)
2025-12-23 11:31:54 [ERROR] ‚ùå API call failed: 504 Deadline expired before operation could complete.
2025-12-23 11:31:54 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:31:54 [WARNING] ‚ö†Ô∏è  [Retry] Transient error (attempt 2/6), sleeping 4.6s: 504 Deadline expired before operation could complete.
2025-12-23 11:31:58 [INFO] API call attempt 3/6 for batch ['12,466', '12,467', '12,468']...
2025-12-23 11:32:02 [INFO] API call successful! Processing response...
2025-12-23 11:32:02 [INFO] Calling Gemini API with timeout=60s...
2025-12-23 11:32:02 [INFO] ‚úÖ Batch completed successfully: 5 items processed
2025-12-23 11:32:02 [INFO] Processing batch: 5 items, IDs: ['13,329', '13,330', '13,331']...
2025-12-23 11:32:02 [INFO] üìä Progress: 5/103146 batches (0.0%)
2025-12-23 11:32:02 [INFO] API call attempt 1/6 for batch ['13,329', '13,330', '13,331']...
